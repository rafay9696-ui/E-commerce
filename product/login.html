<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - Stitch House</title>
    <link rel="stylesheet" href="variables.css">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="login.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Montserrat:wght@400;500;600;700&family=Dancing+Script:wght@600;700&display=swap" rel="stylesheet">
    <style>
        /* My Order Link Styles */
        .myorder-link {
            position: relative;
            margin-right: 15px;
        }
        .myorder-link a {
            color: var(--text-color, #333);
            font-size: 20px;
            transition: color 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .myorder-link a:hover { color: var(--gold-color, #d4af37); }
        .myorder-count {
            position: absolute;
            top: -8px;
            right: -8px;
            background-color: #d4af37;
            color: white;
            font-size: 10px;
            min-width: 18px;
            height: 18px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <!-- Side Navigation -->
    <div class="side-nav">
        <div class="side-nav-content">
            <div class="side-nav-header">
                <div class="logo-container">
                    <h2 class="logo-text">Stitch House</h2>
                </div>
                <button class="close-sidenav">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="side-nav-links">
                <ul>
                    <li><a href="index.html"><i class="fas fa-home"></i>Home</a></li>
                    <li><a href="order.html"><i class="fas fa-shopping-bag"></i>Shop Now</a></li>
                    <li><a href="myorder.html"><i class="fas fa-shopping-cart"></i>My Order</a></li>
                    <li><a href="contact.html"><i class="fas fa-envelope"></i>Contact Us</a></li>
                </ul>
            </div>
            <div class="side-nav-footer">
                <div class="social-icons">
                    <a href="#" class="facebook"><i class="fab fa-facebook"></i></a>
                    <a href="#" class="instagram"><i class="fab fa-instagram"></i></a>
                    <a href="#" class="twitter"><i class="fab fa-twitter"></i></a>
                    <a href="#" class="pinterest"><i class="fab fa-pinterest"></i></a>
                    <a href="#" class="youtube"><i class="fab fa-youtube"></i></a>
                </div>
            </div>
        </div>
    </div>
    <div class="side-nav-backdrop"></div>

    <header>
        <div class="container">
            <div class="menu-toggle">
                <i class="fas fa-bars"></i>
            </div>
            <div class="site-title">
                <a href="index.html">
                    <h1 class="logo-text">Stitch House</h1>
                </a>
            </div>
            <nav>
                <ul>
                    <li><a href="index.html" class="nav-link">Home</a></li>
                    <li><a href="order.html" class="nav-link">Shop Now</a></li>
                    <li><a href="myorder.html" class="nav-link">My Order</a></li>
                    <li><a href="contact.html" class="nav-link">Contact Us</a></li>
                </ul>
            </nav>
            <div class="header-actions">
                <div class="login-link">
                    <a href="login.html" class="active">
                        <i class="fas fa-user"></i>
                    </a>
                </div>
                <div class="myorder-link">
                    <a href="myorder.html" title="My Order">
                        <i class="fas fa-cut"></i>
                        <span class="myorder-count">0</span>
                    </a>
                </div>
                <div class="cart-link">
                    <a href="cart.html" title="Cart">
                        <i class="fas fa-shopping-cart"></i>
                        <span class="cart-count">0</span>
                    </a>
                </div>
            </div>
        </div>
    </header>

    <!-- Page Banner -->
    <section class="page-banner">
        <div class="container">
            <h1>Account Access</h1>
            <div class="breadcrumb">
                <a href="index.html">Home</a> / <span>Sign In</span>
            </div>
        </div>
    </section>

    <!-- Login Section -->
    <section class="login-section">
        <div class="container">
            <div class="login-container">
                <div class="form-tabs">
                    <button class="tab-btn active" data-tab="login">Sign In</button>
                    <button class="tab-btn" data-tab="register">Register</button>
                </div>

                <div class="form-content">
                    <!-- Login Form -->
                    <div id="login-form" class="form-panel active">
                        <h2>Welcome Back</h2>
                        <p class="form-intro">Sign in to your account to continue shopping.</p>

                        <form id="login-form-element" onsubmit="return handleLogin(event)">
                            <div class="form-group">
                                <label for="login-email">Email Address</label>
                                <div class="input-icon-wrapper">
                                    <i class="fas fa-envelope"></i>
                                    <input type="email" id="login-email" name="email" required placeholder="Enter your email">
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="login-password">Password</label>
                                <div class="input-icon-wrapper">
                                    <i class="fas fa-lock"></i>
                                    <input type="password" id="login-password" name="password" required placeholder="Enter your password">
                                    <button type="button" class="toggle-password" tabindex="-1">
                                        <i class="far fa-eye"></i>
                                    </button>
                                </div>
                            </div>

                            <div class="form-options">
                                <div class="remember-me">
                                    <input type="checkbox" id="remember-me" name="remember">
                                    <label for="remember-me">Remember me</label>
                                </div>
                                <a href="#" class="forgot-password">Forgot password?</a>
                            </div>

                            <button type="submit" class="btn-primary btn-login">
                                <i class="fas fa-sign-in-alt"></i> Sign In
                            </button>
                        </form>
                    </div>

                    <!-- Register Form -->
                    <div id="register-form" class="form-panel">
                        <h2>Create an Account</h2>
                        <p class="form-intro">Register for personalized shopping experience.</p>

                        <form id="register-form-element" onsubmit="return handleRegister(event)">
                            <div class="form-group">
                                <label for="register-name">Full Name</label>
                                <div class="input-icon-wrapper">
                                    <i class="fas fa-user"></i>
                                    <input type="text" id="register-name" name="name" required placeholder="Enter your full name">
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="register-email">Email Address</label>
                                <div class="input-icon-wrapper">
                                    <i class="fas fa-envelope"></i>
                                    <input type="email" id="register-email" name="email" required placeholder="Enter your email">
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="register-phone">Phone Number</label>
                                <div class="input-icon-wrapper">
                                    <i class="fas fa-phone"></i>
                                    <input type="tel" id="register-phone" name="phone" required placeholder="Enter your phone number">
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="register-password">Password</label>
                                <div class="input-icon-wrapper">
                                    <i class="fas fa-lock"></i>
                                    <input type="password" id="register-password" name="password" required placeholder="Create a password" minlength="8">
                                    <button type="button" class="toggle-password" tabindex="-1">
                                        <i class="far fa-eye"></i>
                                    </button>
                                </div>
                                <div class="password-strength">
                                    <span class="strength-label">Password strength:</span>
                                    <div class="strength-meter">
                                        <div class="strength-bar"></div>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="register-confirm-password">Confirm Password</label>
                                <div class="input-icon-wrapper">
                                    <i class="fas fa-lock"></i>
                                    <input type="password" id="register-confirm-password" name="confirm_password" required placeholder="Confirm your password">
                                </div>
                            </div>

                            <div class="form-options">
                                <div class="terms">
                                    <input type="checkbox" id="terms" name="terms" required>
                                    <label for="terms">I agree to the <a href="#">Terms of Service</a> and <a href="#">Privacy Policy</a></label>
                                </div>
                            </div>

                            <button type="submit" class="btn-primary btn-register">
                                <i class="fas fa-user-plus"></i> Create Account
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section about">
                    <div class="footer-logo">
                        <a href="index.html" class="logo-button">
                            <h3 class="logo-text">Stitch House</h3>
                        </a>
                    </div>
                    <p>Your premium destination for high-quality fabrics and exceptional service.</p>
                    <div class="social-icons">
                        <a href="#" class="facebook"><i class="fab fa-facebook"></i></a>
                        <a href="#" class="instagram"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="twitter"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="pinterest"><i class="fab fa-pinterest"></i></a>
                        <a href="#" class="youtube"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
                <div class="footer-section links">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="order.html">Shop Now</a></li>
                        <li><a href="myorder.html">My Order</a></li>
                        <li><a href="contact.html">Contact Us</a></li>
                    </ul>
                </div>
                <div class="footer-section contact">
                    <h3>Contact Info</h3>
                    <p><i class="fas fa-map-marker-alt"></i> Main Gulberg, Lahore, Pakistan</p>
                    <p><i class="fas fa-phone"></i> 0304-2292813</p>
                    <p><i class="fas fa-envelope"></i> info@stitchhouse.com</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Stitch House. All Rights Reserved.</p>
            </div>
        </div>
    </footer>

    <div class="back-to-top">
        <i class="fas fa-arrow-up"></i>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        // Tab switching functionality
        const tabBtns = document.querySelectorAll('.tab-btn');
        const formPanels = document.querySelectorAll('.form-panel');

        tabBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                const tabToShow = btn.getAttribute('data-tab');

                // Update active button
                tabBtns.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');

                // Show selected form panel
                formPanels.forEach(panel => {
                    panel.classList.remove('active');
                    if (panel.id === tabToShow + '-form') {
                        panel.classList.add('active');
                    }
                });
            });
        });

        // Toggle password visibility
        const togglePasswordBtns = document.querySelectorAll('.toggle-password');
        togglePasswordBtns.forEach(btn => {
            btn.addEventListener('click', function() {
                const passwordField = this.previousElementSibling;
                const icon = this.querySelector('i');

                if (passwordField.type === 'password') {
                    passwordField.type = 'text';
                    icon.className = 'far fa-eye-slash';
                } else {
                    passwordField.type = 'password';
                    icon.className = 'far fa-eye';
                }
            });
        });

        // Password strength indicator
        const passwordInput = document.getElementById('register-password');
        const strengthBar = document.querySelector('.strength-bar');

        if (passwordInput && strengthBar) {
            passwordInput.addEventListener('input', function() {
                const password = this.value;
                let strength = 0;

                if (password.length >= 8) strength += 25;
                if (password.match(/[a-z]+/)) strength += 25;
                if (password.match(/[A-Z]+/)) strength += 25;
                if (password.match(/[0-9]+/)) strength += 25;

                strengthBar.style.width = strength + '%';

                if (strength <= 25) {
                    strengthBar.style.backgroundColor = '#ff4d4d';
                } else if (strength <= 50) {
                    strengthBar.style.backgroundColor = '#ffa64d';
                } else if (strength <= 75) {
                    strengthBar.style.backgroundColor = '#ffff4d';
                } else {
                    strengthBar.style.backgroundColor = '#4CAF50';
                }
            });
        }

        // Form validation for registration
        const registerForm = document.querySelector('#register-form form');
        const confirmPasswordInput = document.getElementById('register-confirm-password');

        if (registerForm) {
            registerForm.addEventListener('submit', function(e) {
                if (passwordInput.value !== confirmPasswordInput.value) {
                    e.preventDefault();
                    alert('Passwords do not match. Please try again.');
                    return false;
                }
            });
        }

        // Side navigation functionality
        const sideNavToggle = document.querySelector('.menu-toggle');
        const sideNav = document.querySelector('.side-nav');
        const sideNavBackdrop = document.querySelector('.side-nav-backdrop');
        const sideNavClose = document.querySelector('.close-sidenav');

        if (sideNavToggle && sideNav) {
            sideNavToggle.addEventListener('click', () => {
                sideNav.classList.add('open');
                sideNavBackdrop.classList.add('active');
                document.body.classList.add('no-scroll');
            });
        }

        function closeSideNav() {
            if (sideNav) {
                sideNav.classList.remove('open');
                sideNavBackdrop.classList.remove('active');
                document.body.classList.remove('no-scroll');
            }
        }

        if (sideNavClose) sideNavClose.addEventListener('click', closeSideNav);
        if (sideNavBackdrop) sideNavBackdrop.addEventListener('click', closeSideNav);

        // Back to top button
        const backToTopBtn = document.querySelector('.back-to-top');

        window.addEventListener('scroll', () => {
            if (window.pageYOffset > 300) {
                backToTopBtn.classList.add('show');
            } else {
                backToTopBtn.classList.remove('show');
            }
        });

        backToTopBtn.addEventListener('click', () => {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        // Load cart counts from localStorage
        updateCartCount();
    });

    function updateCartCount() {
        const cartCountEl = document.querySelector('.cart-count');
        const myorderCountEl = document.querySelector('.myorder-count');
        const shoppingCart = JSON.parse(localStorage.getItem('shoppingCart')) || [];
        const finalCart = JSON.parse(localStorage.getItem('finalCart')) || [];

        // My Order count - items waiting for customization
        let myOrderTotal = 0;
        shoppingCart.forEach(item => myOrderTotal += item.quantity || 1);
        if (myorderCountEl) myorderCountEl.textContent = myOrderTotal;

        // Cart count - only customized items ready for checkout
        let cartTotal = 0;
        finalCart.forEach(item => cartTotal += item.quantity || 1);
        if (cartCountEl) cartCountEl.textContent = cartTotal;
    }

    // Handle login form submission
    function handleLogin(event) {
        event.preventDefault();
        const email = document.getElementById('login-email').value;
        const password = document.getElementById('login-password').value;

        if (email && password) {
            // Store login info in localStorage for demo
            localStorage.setItem('userEmail', email);
            localStorage.setItem('isLoggedIn', 'true');
            alert('Login successful! Welcome back.');
            window.location.href = 'index.html';
        } else {
            alert('Please fill in all fields.');
        }
        return false;
    }

    // Handle register form submission
    function handleRegister(event) {
        event.preventDefault();
        const name = document.getElementById('register-name').value;
        const email = document.getElementById('register-email').value;
        const phone = document.getElementById('register-phone').value;
        const password = document.getElementById('register-password').value;
        const confirmPassword = document.getElementById('register-confirm-password').value;

        if (!name || !email || !phone || !password || !confirmPassword) {
            alert('Please fill in all fields.');
            return false;
        }

        if (password !== confirmPassword) {
            alert('Passwords do not match. Please try again.');
            return false;
        }

        if (password.length < 8) {
            alert('Password must be at least 8 characters long.');
            return false;
        }

        // Store registration info in localStorage for demo
        localStorage.setItem('userName', name);
        localStorage.setItem('userEmail', email);
        localStorage.setItem('userPhone', phone);
        localStorage.setItem('isLoggedIn', 'true');

        alert('Account created successfully! You are now logged in.');
        window.location.href = 'index.html';
        return false;
    }
    </script>
</body>
</html>
